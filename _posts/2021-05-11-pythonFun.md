---
layout: post
title: python函数
categories: Python
description: python函数
keywords: python 
---

python函数相关操作

### 1、函数定义

```py
def 函数名(参数1,参数2,...):
  """文档描述"""
  函数体
  return 值
```

具体使用:

```py
def test(x, y , z):
  return x + y + z

res = test(1, 2, 3)
print(res)  # 6
```

### 2、参数

可以传形参，也可以传实参，就是带默认值的形参

```py
# x,y,z 就是形参
def test(x, y, z):

# 实参  a就是实参
def test(a=2):
```

不确定参数有几个可以使用`*args`

```py
def test(a, b, c, d, *args):
  print(args)   

test(1,2,3,4,5,6,7,89)  

# (5, 6, 7, 89)
```

前面有具体的形参接受的就都使用对应的变量存储了，没有接受的都被`args`统一管理了。

如果在`最后一个`形参的前面加`**`，在调用函数的时候，溢出的都会被接受

```py
def test(a, **kwargs):
  print(kwargs)

test(1, **{'b': 2, 'c': 3, 'd': 4})
```

### 3、命名空间

`命名空间/名称空间`就是存放变量名与对象映射/绑定关系的地方，在程序执行期间最多会存在三种名称空间

1. 内置名称空间
2. 全局名称空间
3. 局部名称空间

加载顺序是: 1 > 2 > 3

查找顺序是：3 > 2 > 1

### 4、作用域

不同的名称空间有不同的作用域。

1. 全局作用域：内置名称空间和全局名称空间都在全局内存活
2. 局部作用域：局部名称空间在当前局部的作用域里临时存活

当python执行的时候，先执行当前作用域，查找当前的局部作用域的变量，然后再去全局查找

### 5、函数闭包

基于函数对象的概念，可以将函数返回到任意位置去调用，但作用域的关系是在定义完函数时就已经被确定了的，与函数的调用位置无关。也就是说函数被当做数据处理时，始终以自带的作用域为准。若内嵌函数包含对外部函数作用域（而非全局作用域）中变量的引用，那么该’内嵌函数’就是闭包函数，简称闭包(Closures)

```py
x=1
def outer():
    x=2
    def inner():
        print(x)
    return inner

func=outer()
func() # 结果为2
```

“闭”代表函数是内部的，“包”代表函数外’包裹’着对外层作用域的引用。因而无论在何处调用闭包函数，使用的仍然是包裹在其外层的变量。

### 6、装饰器

装饰器指的是为装饰对象添加新的功能，装饰器与被装饰的对象均可以是任意可调用对象。装饰器的作用就是在不修改被装饰对象源代码和调用方式的前提下为被装饰对象添加额外的功能。

可调用对象有函数，方法或者类。
