---
layout: post
title: web常见漏洞二
categories: 网络安全
description: web常见漏洞二
keywords: 命令执行漏洞
---

命令执行漏洞

### 1、命令执行漏洞描述

程序员使用脚本语言(比如 PHP)开发应用程序过程中，脚本语言开发十分快速、简洁，方便，但是也伴随着一些问题。比如说速度慢，或者无法接触系统底层，如果我们开发的应用,特别是企业级的一些应用需要去调用一些外部程序。当应用需要调用一些外部程序时就会用到一些执行系统命令的函数。应用在调用这些函数执行系统命令的时候，如果将用户的输入作为系统命令的参数拼接到命令行中，在没有过滤用户的输入的情况下，就会造成命令执行漏洞。

如在 PHP 中可以调用外部程序的常见函数：

1. system(args) 有回显
2. passthru(args)(有回显)
3. exec(args) （回显最后一行-必须 echo 输出）
4. shell_exec(args) （无回显-必须输出）

在python中调用外部程序的常用方法：

1. os模块的execl方法
2. 使用os模块的system方法
3. 使用os模块的popen方法
4. 使用commands模块的getoutput方法

### 2、命令执行漏洞危害

1. 继承 Web 服务器程序的权限，去执行系统命令
2. 继承 Web 服务器程序的权限，读写文件
3. 反弹 shell
4. 控制整个网站
5. 甚至控制整个服务器
